import { isSSR as i } from "../is-ssr/index.js";
const p = (t, r, o) => {
  const s = i() ? "lib" : "es";
  return () => ({
    // 指定该解析器对什么类型进行解析
    // 这里指定对组件类型进行解析，然后根据组件名称自动按需导入组件
    type: "component",
    // 解析器处理函数
    // 根据组件名称自动按需导入组件
    resolve: (e) => {
      if (e.startsWith(t))
        return {
          // 要导入的组件名称
          name: e,
          // 从哪里导入
          from: r,
          // 根据组件名称自动按需导入组件时，需要一同导入的附加内容
          // 由于组件的样式是打包到了单独的样式文件中，所以还需在这里指定导入组件的样式文件
          sideEffects: o(s, e)
        };
    }
  });
};
export {
  p as genCompLibResolver
};
